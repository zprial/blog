{"version":3,"sources":["webpack:///./src/pages/index.tsx","webpack:///./src/static/avatar.jpeg"],"names":["Home","render","posts","get","this","tagGroup","className","map","node","title","fields","slug","tags","cover","banner","test","console","log","key","to","src","alt","style","width","dangerouslySetInnerHTML","__html","excerpt","substr","t","frontmatter","date","require","height","href","target","c","fieldValue","React","pageQuery","module","exports"],"mappings":"yQAaqBA,G,4GACnBC,OAAA,WACE,IAAMC,EAAQC,EAAIC,KAAM,uCAAyC,GAC3DC,EAAiCF,EAAIC,KAAM,uCAAyC,GAC1F,OACE,2BACE,gBAAC,IAAD,KACE,uBAAKE,UAAU,eACb,iDACA,wCAGJ,gBAAC,IAAD,KACE,uBAAKA,UAAU,YACb,uBAAKA,UAAU,sBACXJ,GAAS,IAAIK,KAAI,YAAmB,IAAhBC,EAAgB,EAAhBA,KAEdC,EAAQN,EAAIK,EAAM,sBAAwBA,EAAKE,OAAOC,KAEtDC,EAAOT,EAAIK,EAAM,qBAAuB,GAExCK,EAAQV,EAAIK,EAAM,sBAAwB,GAC5CM,EAAS,0BAA0BC,KAAKF,GAASA,EAAQ,GAG7D,OAFAG,QAAQC,IAAI,eAAgBT,GAErB,2BAASF,UAAU,eAAeY,IAAKV,EAAKE,OAAOC,MACvDG,GAAU,uBAAKR,UAAU,cACxB,gBAAC,IAAD,CAAMa,GAAIX,EAAKE,OAAOC,MACpB,uBAAKS,IAAKP,EAAOQ,IAAI,GAAGC,MAAO,CAAEC,MAAO,YAG5C,uBAAKjB,UAAU,gBACb,gBAAC,IAAD,CAAMa,GAAIX,EAAKE,OAAOC,MACpB,sBAAIL,UAAU,cAAcG,GAC5B,qBAAGH,UAAU,YAAYkB,wBAAyB,CAAEC,OAAQjB,EAAKkB,QAAQC,OAAO,EAAG,UAGvF,uBAAKrB,UAAU,aACb,sBAAIA,UAAU,QACXM,EAAKL,KAAI,SAACqB,GAAD,OAAe,sBAAIV,IAAKU,GAAG,gBAAC,IAAD,CAAMT,GAAE,SAAWS,GAAMA,QAEhE,uBAAKtB,UAAU,QACb,qBAAGA,UAAU,uBAAwBE,EAAKqB,YAAYC,YAMhE,yBAAOxB,UAAU,kBACf,uBAAKA,UAAU,uBACb,uBAAKA,UAAU,UACb,uBACEc,IAAKW,EAAQ,QACbV,IAAI,SACJE,MAAM,KACNS,OAAO,OAET,oCACA,0CACA,sBAAI1B,UAAU,SACZ,0BACE,qBAAG2B,KAAK,4BAA4BC,OAAO,UACzC,qBAAG5B,UAAU,6BAKrB,sBAAIA,UAAU,QACXD,EAASE,KAAI,SAAA4B,GAAC,OAAI,sBAAIjB,IAAKiB,EAAEC,YAC5B,gBAAC,IAAD,CAAMjB,GAAE,SAAWgB,EAAEC,YAAeD,EAAEC,kBAI5C,uBAAK9B,UAAU,+B,GAzEK+B,cAkFrBC,EAAY,c,qBC/FzBC,EAAOC,QAAU,IAA0B","file":"component---src-pages-index-tsx-9a99f5092b08c93ddb96.js","sourcesContent":["/**\n * 首页，文章列表页\n */\nimport * as React from \"react\";\nimport * as get from 'lodash/get';\nimport { graphql } from 'gatsby'\nimport Link from \"gatsby-link\";\nimport Main from \"../components/main\";\nimport Banner from \"../components/banner\";\nimport { TagGroupProps } from '../types';\n\nimport \"../styles/index.scss\";\n\nexport default class Home extends React.Component<any, any> {\n  render() {\n    const posts = get(this, 'props.data.allMarkdownRemark.edges') || []\n    const tagGroup: Array<TagGroupProps> = get(this, \"props.data.allMarkdownRemark.group\") || [];\n    return (\n      <div>\n        <Banner>\n          <div className=\"banner-home\">\n            <h1>Stick To Powerless!</h1>\n            <h3>坚持到无能为力!</h3>\n          </div>\n        </Banner>\n        <Main>\n          <div className=\"homepage\">\n            <div className=\"homepage-articles\">\n              {(posts || []).map(({ node }: any) => {\n                // 文章标题\n                const title = get(node, 'frontmatter.title') || node.fields.slug;\n                // 标签\n                const tags = get(node, 'frontmatter.tags') || [];\n                // banner\n                const cover = get(node, 'frontmatter.cover') || '';\n                let banner = /^(https?:\\/\\/)|(\\/\\/)/gi.test(cover) ? cover : '';\n                console.log('node.excerpt', node)\n\n                return <section className=\"article-item\" key={node.fields.slug}>\n                  {banner && <div className=\"post-cover\">\n                    <Link to={node.fields.slug}>\n                      <img src={cover} alt=\"\" style={{ width: '100%' }} />\n                    </Link>\n                  </div>}\n                  <div className=\"post-preview\">\n                    <Link to={node.fields.slug}>\n                      <h3 className=\"post-title\">{title}</h3>\n                      <p className=\"post-info\" dangerouslySetInnerHTML={{ __html: node.excerpt.substr(0, 200) }} />\n                    </Link>\n                  </div>\n                  <div className=\"post-meta\">\n                    <ul className=\"tags\">\n                      {tags.map((t: string) => <li key={t}><Link to={`/tags/${t}`}>{t}</Link></li>)}\n                    </ul>\n                    <div className=\"date\">\n                      <i className=\"iconfont icon-date\" />{node.frontmatter.date}\n                    </div>\n                  </div>\n                </section>\n              })}\n            </div>\n            <aside className=\"homepage-aside\">\n              <div className=\"homepage-aside_card\">\n                <div className=\"author\">\n                  <img\n                    src={require(\"../static/avatar.jpeg\")}\n                    alt=\"Zprial\"\n                    width=\"70\"\n                    height=\"70\"\n                  />\n                  <h5>Zprial</h5>\n                  <p>前端菜鸟一枚，奋斗中。。。</p>\n                  <ul className=\"icons\">\n                    <li>\n                      <a href=\"https://github.com/zprial\" target=\"_blank\">\n                        <i className=\"iconfont icon-github\" />\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n                <ul className=\"tags\">\n                  {tagGroup.map(c => <li key={c.fieldValue}>\n                    <Link to={`/tags/${c.fieldValue}`}>{c.fieldValue}</Link>\n                  </li>)}\n                </ul>\n              </div>\n              <div className=\"homepage-aside_search\" />\n            </aside>\n          </div>\n        </Main>\n      </div>\n    );\n  }\n}\n\nexport const pageQuery = graphql`\n  query IndexQuery {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      totalCount\n      edges {\n        node {\n          excerpt(pruneLength: 200)\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"YYYY-MM-DD\")\n            title\n          }\n        }\n      }\n      group(field: frontmatter___tags) {\n        fieldValue\n        totalCount\n      }\n    }\n  }\n`\n","module.exports = __webpack_public_path__ + \"static/avatar-c4598fffeb68736d554e5cb26dc74038.jpeg\";"],"sourceRoot":""}